int m[1<<20],*r=m,s[1<<20],*p=s,d,o;main(c,v)char**v;{for(c=open(v[1],0);read(c,p,1);p++);for(p=s;c=*p;p++){d=92-c,o=d,c-60?c-62?c-43?c-45?c-44?c-46?:putchar(*r):read(0,r,1):--*r:++*r:++r:--r;if(!(c^91|*r)+!(c^93|!*r)){while(p+=d,o+=(*p==91)-(*p==93));}}}
